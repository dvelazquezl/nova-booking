
<section class="container">
  <header class="main-section-header">
    <h1 class="main-title">
      Busca ofertas de hotel
    </h1>
    <h6 class="main-subtitle">
      La forma m치s f치cil de encontrar hotel
    </h6>
  </header>
  <section class="row main-filter-section">
    <!--  Filtro principal  -->
    <div class="col-md-6 col-sm-12 d-flex align-items-center main-filter">
      <%= render(
              partial: "welcome/main_filter",
              locals: {filterrific: filterrific}
          )%>
    </div>

    <!--  Descripciones de la p치gina  -->
    <div class="col-md-6 col-sm-12 d-flex align-items-center" id="description-section">
      <%= render partial: "welcome/descriptions" %>
    </div>
  </section>
</section>

<section>
  <div class="container-fluid">
    <br>
    <div class="row">
      <div class="col-1"></div>
      <div class="col-10">
        <h2 class="text-info" id="carousel-title">Hoteles con mejor calificaci칩n</h2>
        <hr>
      </div>
    </div>
    <div id="ofertas" class="carousel slide" data-ride="carousel">

      <!-- Indicators -->
      <ul class="carousel-indicators text-primary">
        <li data-target="#ofertas" data-slide-to="0" class="active"></li>
        <li data-target="#ofertas" data-slide-to="1"></li>
        <li data-target="#ofertas" data-slide-to="2"></li>
      </ul>

      <!-- The slideshow -->
      <div class="carousel-inner">
        <% i = 0 %>
        <% estates.each do |estate| %>
          <% if ((i%5)==0) %>
            <div class="carousel-item <% if (i==0) %>active<%end %>">
              <div class="d-flex justify-content-around">
                  <div class="col-md-1"></div>
          <%end %>
          <%i = i+1 %>
                <div class="col-md-2">
                  <div class="card">
                    <%= image_tag estate.images.first, class:"card-img-top", height: 180, width: 180, alt:"Card image cap" %>
                    <div class="card-body">
                      <h4 class="card-title">
                        <div class="row">
                          <div class="col"><%= estate.name %></div>
                          <div class="col-3"><div class="text-right badge badge-pill badge-<%= get_score_color(estate.score.to_i) %>"> <%= estate.score %> </div></div>
                        </div>
                      </h4>
                      <small class="text-muted"><%= estate.city_name %> | Mostrar en mapa</small>
                      <p><%= estate.address %></p>
                      <!--a class="btn btn-primary waves-effect waves-light">Button</a-->
                    </div>
                  </div>
                </div>
          <% if (i%5)==0 || estates.length() == i %>
                <div class="col-md"></div>
              </div>
            </div>
          <%end %>

        <% end %>
        </div>
        <br>
        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#ofertas" data-slide="prev">
          <span class="fas fa-chevron-circle-left fa-3x text-info"></span>
        </a>
        <a class="carousel-control-next" href="#ofertas" data-slide="next">
          <span class="fas fa-chevron-circle-right fa-3x text-info"></span>
        </a>
      </div>
  </div>
  <br>
</section>